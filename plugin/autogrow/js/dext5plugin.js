(function(){try{var c={pluginName:"autogrow"};G_DEPlugin.autogrow=c;c.onInit=function(){var b="../plugin/autogrow/js"+(DEXTTOP.DEXT5.isRelease?"":"_dev")+"/config.js",a=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript";c.src=b;a.appendChild(c)};c.autogrow=function(b){if(DEXTTOP.DEXTWIN!=top&&1==DEXTTOP.G_CURREDITOR._config.autoGrowMode)DEXTTOP.G_CURREDITOR._config.autoGrowMode="0";else if("full_size"==b.FrameStatus||"design"!=b._currentMode)b._DOC.documentElement.style.overflow=
"auto";else{var a=b._DOC.documentElement,c=b._BODY,d=DEXTTOP.DEXTDOC.documentElement,e=DEXTTOP.DEXTDOC.body;if(void 0==G_DEPlugin.autogrow.configHeight||null==G_DEPlugin.autogrow.configHeight||""==G_DEPlugin.autogrow.configHeight)G_DEPlugin.autogrow.configHeight=parseInt(b._config.style.height,10),G_DEPlugin.autogrow.initHeight=b._defaultHeight,a.style.overflowY="hidden",G_DEPlugin.autogrow.initParentHeight=d.scrollHeight;else if(a.style.overflowY="hidden",G_DEPlugin.autogrow.previousParentTop=Math.max(d.scrollTop,
e.scrollTop),setHeight(G_DEPlugin.autogrow.configHeight,b),a=Math.max(a.scrollHeight,c.scrollHeight),G_DEPlugin.autogrow.initHeight<a?setHeight(G_DEPlugin.autogrow.configHeight+(a-G_DEPlugin.autogrow.initHeight),b):setHeight(G_DEPlugin.autogrow.configHeight,b),G_DEPlugin.autogrow.currHeight=a-G_DEPlugin.autogrow.initHeight,G_DEPlugin.autogrow.diffHeight=G_DEPlugin.autogrow.currHeight-G_DEPlugin.autogrow.preHeight,G_DEPlugin.autogrow.preHeight=a-G_DEPlugin.autogrow.initHeight,2!=DEXTTOP.G_CURREDITOR._config.autoGrowMode&&
(d.scrollTop=G_DEPlugin.autogrow.previousParentTop+(d.scrollHeight-G_DEPlugin.autogrow.initParentHeight),e.scrollTop=G_DEPlugin.autogrow.previousParentTop+(d.scrollHeight-G_DEPlugin.autogrow.initParentHeight),G_DEPlugin.autogrow.previousParentTop=Math.max(d.scrollTop,e.scrollTop),G_DEPlugin.autogrow.initParentHeight=d.scrollHeight),2==DEXTTOP.G_CURREDITOR._config.autoGrowMode)try{"function"===typeof DEXTTOP.DEXTWIN.dext_editor_autogrow_event&&DEXTTOP.DEXTWIN.dext_editor_autogrow_event(b,{diffHeight:G_DEPlugin.autogrow.diffHeight})}catch(h){}}};
c.onInit()}catch(a){}})();
function setHeight(c,a){var b=a.ID;a=DEXTTOP.DEXT5.util._setDEXT5editor(b);if(void 0==b||""==b)b=a.ID;var f=DEXTTOP.DEXTDOC.getElementById("dext_frame_holder"+b),b=DEXTTOP.DEXTDOC.getElementById("dext_frame_"+b).contentWindow.document.getElementById("ue_editor_holder_"+b),g=0,g=a.baseMenuToolbarHeight;isViewMode(a)?a._defaultHeight=parseInt(c,10)-4:a._defaultHeight=parseInt(c,10)-g;-1<c.toString().indexOf("%")||-1<c.toString().indexOf("px")?f.style.height=c:f.style.height=c+"px";b.style.height=a._defaultHeight+
"px";1==DEXTTOP.G_CURREDITOR._config.autoGrowMode&&(a._config.style.height=c+"px","1"==a._config.ruler.view&&"design"==a._currentMode&&a._FRAMEWIN.showRuler(a),"1"==a._config.autoBodyFit&&(a._BODY.style.minHeight=(a._defaultHeight-parseIntOr0(a._config.defaultBodySpace.value))/a._defaultHeight*100+"%"))};
